<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Market Intelligence Tool | Dora Stancu</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .icon { display: inline-block; width: 1.25rem; height: 1.25rem; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        const { useState } = React;

        function JobMarketIntelligence() {
            const [jobTitle, setJobTitle] = useState('');
            const [location, setLocation] = useState('');
            const [loading, setLoading] = useState(false);
            const [report, setReport] = useState(null);
            const [error, setError] = useState('');

            const industryData = {
                pixelogic: {
                    name: 'Pixelogic Media',
                    locations: 7,
                    focus: 'Distribution services and technology solutions for entertainment industry'
                },
                deluxe: {
                    name: 'Deluxe Entertainment',
                    employees: '3,500+',
                    focus: 'Media and entertainment services for film, video, and online content'
                },
                iyuno: {
                    name: 'Iyuno-SDI',
                    offices: '67 offices in 34 countries',
                    focus: 'Leading provider of dubbing, subtitling, translation, and media services'
                }
            };

            const generateReport = async () => {
                if (!jobTitle.trim()) {
                    setError('Please enter a job title');
                    return;
                }

                setLoading(true);
                setError('');
                setReport(null);

                try {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 4000,
                            messages: [{
                                role: 'user',
                                content: `Generate a job market intelligence report for: "${jobTitle}"${location ? ` in ${location}` : ''}. Return ONLY valid JSON: {"role":"${jobTitle}","location":"${location || 'Global'}","demandLevel":"High","salaryRange":{"min":80000,"max":150000,"currency":"USD","note":"Based on market data"},"topSkills":[{"skill":"Example","demand":"High"}],"competitiveInsights":{"averageTimeToHire":"45 days","competitionLevel":"High","talentAvailability":"Moderate"},"emergingTrends":["Trend 1"],"keyRecommendations":["Rec 1"]}`
                            }],
                            tools: [{ type: 'web_search_20250305', name: 'web_search' }]
                        })
                    });

                    const data = await response.json();
                    const text = data.content.map(b => b.type === 'text' ? b.text : '').join('\n');
                    const clean = text.replace(/```json\s*/g, '').replace(/```\s*/g, '').trim();
                    setReport(JSON.parse(clean));
                } catch (err) {
                    console.error('Error:', err);
                    setError('Failed to generate report. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            return React.createElement('div', { 
                className: "min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-8" 
            },
                React.createElement('div', { className: "max-w-4xl mx-auto" },
                    // Header
                    React.createElement('div', { className: "text-center mb-8" },
                        React.createElement('h1', { 
                            className: "text-5xl font-bold mb-2 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent" 
                        }, 'ðŸ“Š Job Market Intelligence'),
                        React.createElement('p', { className: "text-gray-600 text-lg" }, 
                            'AI-powered talent market analysis with competitive benchmarking'
                        )
                    ),

                    // Company Cards
                    React.createElement('div', { className: "grid md:grid-cols-3 gap-4 mb-8" },
                        Object.values(industryData).map((company, idx) =>
                            React.createElement('div', { 
                                key: idx, 
                                className: "bg-white rounded-xl shadow-md p-5 border border-gray-100" 
                            },
                                React.createElement('h3', { className: "font-bold text-gray-800 mb-2" }, 
                                    'ðŸ¢ ' + company.name
                                ),
                                React.createElement('p', { className: "text-xs text-gray-600 mb-2" }, 
                                    company.focus
                                ),
                                React.createElement('div', { className: "text-xs text-gray-500" },
                                    company.employees && React.createElement('div', null, `ðŸ‘¥ ${company.employees}`),
                                    company.offices && React.createElement('div', null, `ðŸ“ ${company.offices}`),
                                    company.locations && React.createElement('div', null, `ðŸŒ ${company.locations} global offices`)
                                )
                            )
                        )
                    ),

                    // Search Form
                    React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100" },
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, 
                                    'ðŸ’¼ Job Title *'
                                ),
                                React.createElement('input', {
                                    type: "text",
                                    value: jobTitle,
                                    onChange: (e) => setJobTitle(e.target.value),
                                    placeholder: "e.g., Executive Talent Acquisition Partner",
                                    className: "w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none",
                                    onKeyPress: (e) => e.key === 'Enter' && generateReport()
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, 
                                    'ðŸ“ Location (Optional)'
                                ),
                                React.createElement('input', {
                                    type: "text",
                                    value: location,
                                    onChange: (e) => setLocation(e.target.value),
                                    placeholder: "e.g., Toronto, Canada",
                                    className: "w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none",
                                    onKeyPress: (e) => e.key === 'Enter' && generateReport()
                                })
                            ),
                            React.createElement('button', {
                                onClick: generateReport,
                                disabled: loading,
                                className: "w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-4 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                            }, loading ? 'â³ Analyzing Market Data...' : 'âœ¨ Generate Intelligence Report')
                        ),
                        error && React.createElement('div', { className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700" }, error)
                    ),

                    // Results
                    report && React.createElement('div', { className: "space-y-6" },
                        React.createElement('div', { className: "bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-xl p-8 text-white" },
                            React.createElement('h2', { className: "text-3xl font-bold mb-2" }, report.role),
                            React.createElement('p', { className: "text-indigo-100 mb-4" }, 'ðŸ“ ' + report.location),
                            React.createElement('span', { className: "text-sm font-medium bg-white/20 px-4 py-2 rounded-full" },
                                `Market Demand: ${report.demandLevel}`
                            )
                        ),

                        React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-6 border border-gray-100" },
                            React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-4" }, 
                                'ðŸ’° Salary Insights'
                            ),
                            React.createElement('div', { className: "bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6" },
                                React.createElement('div', { className: "text-3xl font-bold text-gray-800 mb-2" },
                                    `${report.salaryRange.currency} $${report.salaryRange.min.toLocaleString()} - $${report.salaryRange.max.toLocaleString()}`
                                ),
                                React.createElement('p', { className: "text-gray-600" }, report.salaryRange.note)
                            )
                        ),

                        React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-6 border border-gray-100" },
                            React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-4" }, 
                                'ðŸ“ˆ Top Skills in Demand'
                            ),
                            React.createElement('div', { className: "space-y-3" },
                                report.topSkills && report.topSkills.map((skill, idx) =>
                                    React.createElement('div', { 
                                        key: idx, 
                                        className: "flex items-center justify-between p-3 bg-gray-50 rounded-lg" 
                                    },
                                        React.createElement('span', { className: "font-medium text-gray-800" }, skill.skill),
                                        React.createElement('span', { 
                                            className: `text-sm px-3 py-1 rounded-full ${
                                                skill.demand === 'Critical' ? 'bg-red-100 text-red-700' :
                                                skill.demand === 'High' ? 'bg-orange-100 text-orange-700' :
                                                'bg-yellow-100 text-yellow-700'
                                            }` 
                                        }, skill.demand)
                                    )
                                )
                            )
                        )
                    ),

                    // Footer
                    React.createElement('div', { className: "text-center mt-12 pb-8" },
                        React.createElement('p', { className: "text-gray-500 text-sm" }, 
                            'Powered by AI â€¢ Built by Dora Stancu'
                        ),
                        React.createElement('p', { className: "text-gray-400 text-xs mt-2" }, 
                            'Competitive intelligence: Pixelogic â€¢ Deluxe â€¢ Iyuno-SDI'
                        )
                    )
                )
            );
        }

        // Wait for page to load
        window.addEventListener('DOMContentLoaded', function() {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(JobMarketIntelligence));
        });
    </script>
</body>
</html>
